"use strict";var console=console||{};angular.module("PlayTravelApp",["ui.router","ngAnimate","ngResource","ngMessages","ngSanitize","ngCookies","ui.bootstrap","ui.select","angular-loading-bar","toastr","chart.js","satellizer","mgcrea.ngStrap","material.components.input","material.components.switch","material.components.checkbox","PlayTravelApp.controllers","PlayTravelApp.services","PlayTravelApp.tpls","PlayTravelApp.page-dashboard","PlayTravelApp.page-flights","PlayTravelApp.ui-search"]).config(["$stateProvider","$urlRouterProvider","$httpProvider","$authProvider","$alertProvider",function(e,t,a,n,r){t.otherwise("/404"),e.state("admin",{url:"/admin","abstract":!0,templateUrl:"/assets/tpls/admin-layout.html",controller:"AdminCtrl",resolve:{authenticated:["$q","$location","$auth",function(e,t,a){var n=e.defer();return a.isAuthenticated()?n.resolve():t.path("/signIn"),n.promise}]}}).state("signUp",{url:"/signUp",templateUrl:"/views/signUp.html",controller:["$scope","$alert","$auth",function(e,t,a){e.submit=function(n){n.preventDefault(),a.signup({firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password}).then(function(){t({content:"You have successfully signed up",animation:"fadeZoomFadeDown",type:"material",duration:3})})["catch"](function(e){t({content:e.data.message,animation:"fadeZoomFadeDown",type:"material",duration:3})})}}]}).state("signIn",{url:"/signIn",templateUrl:"/views/signIn.html",controller:"SignInCtrl"}).state("signOut",{url:"/signOut",template:null,controller:"SignOutCtrl"}).state("404",{url:"/404",templateUrl:"/assets/tpls/404.html",controller:"NotFoundCtrl"})}]).config(["$locationProvider",function(e){e.html5Mode(!0)}]).config(["toastrConfig",function(e){angular.extend(e,{allowHtml:!0,positionClass:"toast-bottom-right"})}]).config(["$httpProvider","$authProvider",function(e,t){e.interceptors.push(["$q","$injector",function(e,t){return{request:function(e){var a=t.get("$auth");a.isAuthenticated()&&(e.headers["X-Auth-Token"]=a.getToken());var n=t.get("$cookies"),r=n.get("PLAY_CSRF_TOKEN");return r&&(e.headers["Csrf-Token"]=r),e},responseError:function(a){if(401===a.status){var n=t.get("$auth");n.logout(),t.get("$state").go("signIn")}return e.reject(a)}}}]),t.httpInterceptor=!0,t.loginOnSignup=!0,t.loginRedirect="/admin/flights",t.logoutRedirect="/signIn",t.signupRedirect="/admin",t.loginUrl="/signIn",t.signupUrl="/signUp",t.loginRoute="/signIn",t.signupRoute="/signUp",t.tokenName="token",t.tokenPrefix="satellizer",t.authHeader="X-Auth-Token",t.platform="browser",t.storage="localStorage"}]).run(["$rootScope","$state",function(e,t){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var a=t||0,n=this.length;n>a;a++)if(this[a]===e)return a;return-1})}]),angular.module("PlayTravelApp.controllers",[]).controller("AdminCtrl",["$rootScope","$scope","$state","$stateParams","$location","UiData","$interval",function(e,t,a,n,r,l,i){t.uiData=l,e.batchAvailable=!1,e.trainingInProgress=!1,console.log(l)}]).controller("NotFoundController",["$scope","$state",function(e,t){console.log("NotFound")}]).controller("LoginCtrl",["$scope","$state","$http",function(e,t,a){e.submit=function(n){if(n){e.formErrors=[];var r={method:"POST",url:"/api/auth",data:{username:e.user.username,password:e.user.password}};a(r).success(function(a){console.log("login form:",a),e.formErrors=a.errors,0==a.errors.length&&(console.log("go to dashboard!"),t.go("admin.dashboard"))}).error(function(t){e.formErrors=t.errors})}}}]).controller("SignUpCtrl",["$scope","$alert","$auth",function(e,t,a){e.submit=function(n){n.preventDefault(),a.signup({firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password}).then(function(){t({content:"You have successfully signed up",animation:"fadeZoomFadeDown",type:"material",duration:3})})["catch"](function(e){t({content:e.data.message,animation:"fadeZoomFadeDown",type:"material",duration:3})})}}]).controller("SignInCtrl",["$scope","$alert","$auth","$state",function(e,t,a,n){e.submit=function(){a.setStorageType(e.rememberMe?"localStorage":"sessionStorage"),a.login({email:e.email,password:e.password,rememberMe:e.rememberMe}).then(function(){console.log("logged in!!"),t({content:"You have successfully signed in",animation:"fadeZoomFadeDown",type:"material",duration:3})})["catch"](function(e){console.log(e),t({content:e.data.message,animation:"fadeZoomFadeDown",type:"material",duration:3})})},e.authenticate=function(e){a.authenticate(e).then(function(){t({content:"You have successfully signed in",animation:"fadeZoomFadeDown",type:"material",duration:3})})["catch"](function(e){t({content:e.data.message,animation:"fadeZoomFadeDown",type:"material",duration:3})})}}]).controller("SignOutCtrl",["$auth","$alert",function(e,t){e.isAuthenticated()&&e.logout().then(function(){t({content:"You have been logged out",animation:"fadeZoomFadeDown",type:"material",duration:3})})}]),angular.module("PlayTravelApp.services",[]).factory("Ui",["$resource",function(e){return e("/ui-data",{},{get:{method:"GET"}})}]).factory("UiData",["$q","Ui",function(e,t){return function(){return{data:[1,2,3]}}}]).factory("ReloadState",["$state",function(e){return function(){e.transitionTo(e.current.name,e.params,{reload:e.$current})}}]).factory("DeleteConfirmation",["$uibModal",function(e){return function(t,a){var n=e.open({templateUrl:"template/confirm-delete.html",size:"sm",resolve:{message:function(){return t}},controller:["$scope","$uibModalInstance","message",function(e,t,a){e.message=a,e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}}]});n.result.then(function(){a()},function(){})}}]),angular.module("PlayTravelApp.tpls",["template/confirm-delete.html"]),angular.module("template/confirm-delete.html",[]).run(["$templateCache",function(e){e.put("template/confirm-delete.html",'   <div class="modal-header">       <h5 class="modal-title">{{(message != \'\' ? message : \'Please confirm you wish to delete\' )}}</h5>   </div>   <div class="modal-body">       <div class="text-right">           <div class="btn-group" role="group" aria-label="...">               <button type="button" ng-click="ok()" class="btn btn-sm btn-default"><span class="fa fa-paper-plane-o"></span> Proceed</button>               <span class="btn btn-default btn-sm" ng-click="cancel()"><span class="fa fa-close"></span>&nbsp;&nbsp;Close (Esc)</span>           </div>       </div>   </div>')}]),angular.module("PlayTravelApp.page-current-classifier",["PlayTravelApp.page-current-classifier.controllers","PlayTravelApp.page-current-classifier.services","PlayTravelApp.page-current-classifier.directives","PlayTravelApp.page-current-classifier.tpls"]).config(["$stateProvider",function(e){e.state("admin.current-classifier",{url:"/current-classifier?{items_per_page}&{page}",templateUrl:"/assets/tpls/current-classifier.html",controller:"CurrentClassifierPageCtrl",resolve:{CurrentClassifierData:["CurrentClassifierData","$stateParams",function(e,t){return e(t)}],TopicsData:["TopicsData",function(e){return e()}]}})}]),angular.module("PlayTravelApp.page-current-classifier.controllers",[]).controller("CurrentClassifierPageCtrl",["$scope","$state","CurrentClassifierData","TopicsData","AddBatchItem","toastr","BatchResource","DeleteConfirmation",function(e,t,a,n,r,l,i,o){e.rules=a.rules,e.topics=n.topics,e.addItem=r,e.pagination=a.pagination,e.$watch("pagination.page",function(e,a){if("undefined"!=typeof e&&e!=a){var n=t.params;e>1?n.page=e:n.page=null,t.transitionTo(t.current.name,n,{reload:t.$current})}}),e.changeNumberOfItems=function(e){var a=t.params;a.page=null,20!=e?a.items_per_page=e:a.items_per_page=null,t.transitionTo(t.current.name,a,{reload:t.$current})},e.deleteSelected=function(){var t=[];angular.forEach(e.rules,function(e){1==e["delete"]&&t.push(e.id)}),0==t.length?l.error("Select batch items to delete!"):o("",function(){i["delete"]({instance:"1"},{todelete:t},function(){l.success("Deleted batch items!")},function(){})})};var s=[];e.$watchCollection("rules",function(t,a){angular.forEach(e.rules,function(t,a){"function"==typeof s[t.id]&&s[t.id](),s[t.id]=e.$watch("rules["+a+"].included_in_next",function(e,a){"undefined"!=typeof e&&e!=a&&i.put({instance:"1",item:t.id},{included_in_next:e},function(t){l.success((e?"Staged":"Unstaged")+" batch item!")},function(){l.error("Ooops!")})})})}),e.$watch("pagination.page",function(e,a){if("undefined"!=typeof e&&e!=a){var n=t.params;e>1?n.page=e:n.page=null,t.transitionTo(t.current.name,n,{reload:t.$current})}}),e.retrain=function(){e.inTraining=!0,i.put({instance:"1",item:"train"},{},function(t){l.success("Trained classifier!"),e.inTraining=!1},function(){l.error("Ooops!"),e.inTraining=!1})},e.$watch("trainingInProgress",function(e,a){if("undefined"!=typeof e&&e!=a&&!e&&a){var n=t.params;n.page=null,t.transitionTo(t.current.name,n,{reload:t.$current})}})}]),angular.module("PlayTravelApp.page-current-classifier.directives",[]).directive("rulerow",[function(){return{restrict:"A",replace:!0,templateUrl:"template/reclassify-rule-row.html",scope:{item:"=rulerow",topics:"=topics",intraining:"=intraining"},controller:["$scope","$rootScope","toastr","BatchResource","ReloadState","DeleteConfirmation",function(e,t,a,n,r,l){e.textCopy=angular.copy(e.item.input),e.newTopic={value:null},e.trainingInProgress=t.trainingInProgress,angular.forEach(e.topics,function(t,a){e.item.topic.id==t.id&&(e.newTopic.value=t)}),e.textError=!1,e.topicError=!1,e.disabledForm=!1,e.deleteItem=function(){l("",function(){n["delete"]({instance:"1",item:e.item.id},function(e){a.success("Deleted batch item!"),r()},function(){a.error("Ooops!")})})},e.submitForm=function(){return e.disabledForm=!0,e.textError=!1,e.topicError=!1,""==e.textCopy&&(e.textError=!0),null==e.newTopic.value&&(e.topicError=!0),e.topicError||e.textError?(e.disabledForm=!1,!1):void n.put({instance:"1",item:e.item.id},{text:e.textCopy,topic:e.newTopic.value.id},function(e){a.success("Saved batch item!"),r()},function(){a.error("Ooops!")})}}],link:function(e,t,a){}}}]),angular.module("PlayTravelApp.page-current-classifier.services",[]).factory("CurrentClassifierData",["$q","BatchResource",function(e,t){return function(a){var n=e.defer();return t.get({instance:"1",page:a.page?a.page:null,items_per_page:a.items_per_page?a.items_per_page:null},function(e){n.resolve(e)},function(){n.reject("Unable to fetch data")}),n.promise}}]).factory("AddBatchItem",["$uibModal","toastr","BatchResource",function(e,t,a){return function(){var n=e.open({templateUrl:"template/new-batch-item.html",size:"md",resolve:{TopicsData:["TopicsData",function(e){return e()}]},controller:["$scope","$uibModalInstance","TopicsData",function(e,t,a){e.text="",e.availableTopics=a.topics,e.topic={value:null},e.textError=!1,e.topicError=!1,e.disabledForm=!1,e.ok=function(){return e.disabledForm=!0,e.textError=!1,e.topicError=!1,""==e.text&&(e.textError=!0),null==e.topic.value&&(e.topicError=!0),e.topicError||e.textError?(e.disabledForm=!1,!1):void t.close({text:e.text,topic:e.topic.value.id})},e.cancel=function(){t.dismiss("cancel")}}]});n.result.then(function(e){a.post({instance:"1"},e,function(e){t.success("Added to batch!")},function(){})},function(){})}}]),angular.module("PlayTravelApp.page-current-classifier.tpls",["template/reclassify-rule-row.html","template/new-batch-item.html"]),angular.module("template/reclassify-rule-row.html",[]).run(["$templateCache",function(e){e.put("template/reclassify-rule-row.html",'<tbody><tr>   <td class="text-center" ng-class="{ \'bg-info\':edit}">       <md-checkbox ng-model="item.delete" ng-init="item.delete = false" aria-label="Delete item" ng-disabled="intraining"></md-checkbox>   </td>   <td ng-click="edit = !edit">{{item.input}}</td>   <td ng-click="edit = !edit" class="text-center">       <i class="fa text-lg" ng-class="{\'fa-close text-danger\': !item.included_in_last, \'fa-check text-success\': item.included_in_last}"></i>   </td>   <td ng-click="edit = !edit">{{item.topic.label}}</td>   <td>       <md-switch ng-model="item.included_in_next" aria-label="Staged" ng-disabled="intraining"></md-switch>   </td>   <td class="text-center">       <a ng-disabled="intraining" ng-click=" (!intraining) ? deleteItem(): null" class="btn btn-xs btn-warning">           <i class="fa fa-times"></i>       </a>   </td></tr><tr ng-show="edit && !intraining">   <td class="bg-info">&nbsp;</td>   <td colspan="5">       <md-input-container class="md-block no-bottom-margin">           <label>Edit text</label>           <textarea ng-model="textCopy" columns="1" rows="5"></textarea>           <span class="label label-warning" ng-show="textError">This is a required field</span>       </md-input-container>       <md-input-container class="md-block no-bottom-margin">           <label>Should be classified as:</label>           <div ui-select ng-model="newTopic.value">               <div ui-select-match placeholder="Select...">{{$select.selected.label}}</div>               <div ui-select-choices repeat="option in topics">                   <div ng-bind-html="option.label | highlight: $select.search"></div>               </div>           </div>           <span class="label label-warning" ng-show="topicError">This is a required field</span>       </md-input-container>       <button class="btn btn-default btn-sm" ng-click="submitForm()"><i class="fa fa-floppy-o"></i> Save</button>   </td></tr></tbody>')}]),angular.module("template/new-batch-item.html",[]).run(["$templateCache",function(e){e.put("template/new-batch-item.html",'   <div class="modal-header">       <h4 class="modal-title">Add batch item</h4>   </div>   <div class="modal-body">       <md-input-container class="md-block">           <label>Add text</label>           <textarea ng-model="text" columns="1" rows="5"></textarea>           <span class="label label-warning" ng-show="textError">This is a required field</span>       </md-input-container>       <md-input-container class="md-block">           <label>Should be classified as:</label>           <div ui-select ng-model="topic.value">               <div ui-select-match placeholder="Select...">{{$select.selected.label}}</div>               <div ui-select-choices repeat="option in availableTopics">                   <div ng-bind-html="option.label | highlight: $select.search"></div>               </div>           </div>           <span class="label label-warning" ng-show="topicError">This is a required field</span>       </md-input-container>       <div class="text-right">           <div class="btn-group" role="group" aria-label="...">               <button type="button" ng-click="ok()" class="btn btn-sm btn-default" ng-disabled="disabledForm"><span class="fa fa-paper-plane-o" ng-class="{ \'fa-paper-plane-o\': !disabledForm, \'fa-spin fa-spinner\': disabledForm }"></span> Add to classifier</button>               <span class="btn btn-default btn-sm" ng-click="cancel()"><span class="fa fa-close"></span>&nbsp;&nbsp;Close (Esc)</span>           </div>       </div>   </div>')}]),angular.module("PlayTravelApp.page-dashboard",["PlayTravelApp.page-dashboard.controllers","PlayTravelApp.page-dashboard.services","PlayTravelApp.page-dashboard.directives"]).config(["$stateProvider",function(e){e.state("admin.dashboard",{url:"",templateUrl:"/assets/tpls/dashboard.html",controller:"DashboardPageCtrl",resolve:{DashBoardData:["DashBoardData","$stateParams",function(e,t){return e(t)}]}})}]),angular.module("PlayTravelApp.page-dashboard.controllers",[]).controller("DashboardPageCtrl",["$scope","$state","DashBoardData","Dashboard","toastr","$filter",function(e,t,a,n,r,l){e.dateFrom=new Date(a.filters.date_from),e.dateTo=new Date(a.filters.date_to),e.charts=a.charts,e.dataLoading=!1,e.reloadData=function(){e.dataLoading=!0,n.get({instance:"1",dateFrom:l("date")(e.dateFrom,"yyyy-MM-dd"),dateTo:l("date")(e.dateTo,"yyyy-MM-dd"),period:"custom"},function(t){r.success("Data reloaded"),e.dataLoading=!1},function(){})},console.log(a)}]),angular.module("PlayTravelApp.page-dashboard.directives",[]).directive("charter",["$compile",function(e){return{restrict:"A",replace:!0,scope:{chart:"=charter"},controller:["$scope",function(e){}],link:function(t,a,n){switch(t.chart.type){case"pie":a.html('<canvas style="height:50px;" class="chart chart-pie" chart-data="chart.data" chart-legend="true" chart-labels="chart.labels"></canvas>');break;case"line":a.html('<canvas style="height:50px;" class="chart chart-line" chart-data="[chart.data]" chart-series="[\'Active conversations\']" chart-labels="chart.labels"></canvas>')}e(a.contents())(t)}}}]),angular.module("PlayTravelApp.page-dashboard.services",[]).factory("Dashboard",["$resource",function(e){return e("http://127.0.0.1:9000/user")}]).factory("DashBoardData",["$q","Dashboard",function(e,t){return function(a){var n=e.defer();return t.get({},function(e){n.resolve(e)},function(){n.reject("Unable to fetch data")}),n.promise}}]),angular.module("PlayTravelApp.ui-search",["PlayTravelApp.ui-search.controllers","PlayTravelApp.ui-search.services","PlayTravelApp.ui-search.tpls"]).config(["$stateProvider",function(e){e.state("search",{url:"/search?{items_per_page}&{page}",templateUrl:"/assets/tpls/ui/search.html",controller:"SearchPageCtrl",resolve:{SearchData:["SearchData","$stateParams",function(e,t){return e(t)}]}})}]),angular.module("PlayTravelApp.ui-search.controllers",[]).controller("SearchPageCtrl",["$scope","$state","Search",function(e,t,a){e.submit=function(){console.log("form submitted!"),a.get({date_from:123,date_to:321},function(e){console.log(e)},function(e){console.log("Unable to perform search",e)})},e.$watch("pagination.page",function(e,a){if("undefined"!=typeof e&&e!=a){var n=t.params;e>1?n.page=e:n.page=null,t.transitionTo(t.current.name,n,{reload:t.$current})}}),e.changeNumberOfItems=function(e){var a=t.params;a.page=null,20!=e?a.items_per_page=e:a.items_per_page=null,t.transitionTo(t.current.name,a,{reload:t.$current})},console.log("Search controller 1")}]),angular.module("PlayTravelApp.ui-search.services",[]).factory("Search",["$resource",function(e){return e("http://127.0.0.1:9000/search",{get:{method:"GET"},post:{method:"POST",isArray:!1}})}]).factory("SearchData",["$q","Search",function(e,t){return function(a){var n=e.defer();return t.get({page:a.page?a.page:null,items_per_page:a.items_per_page?a.items_per_page:null},function(e){n.resolve(e)},function(){n.reject("Unable to fetch data")}),n.promise}}]),angular.module("PlayTravelApp.ui-search.tpls",["template/reclassify-message-overlay.html"]),angular.module("template/reclassify-message-overlay.html",[]).run(["$templateCache",function(e){e.put("template/reclassify-message-overlay.html",'   <div class="modal-header">       <h4 class="modal-title">Reclassify message</h4>   </div>   <div class="modal-body">       <md-input-container class="md-block">           <label>Original message</label>           <textarea ng-model="text" columns="1" rows="5" ng-disabled="true"></textarea>       </md-input-container>       <md-input-container class="md-block">           <label>Edit message</label>           <textarea ng-model="textCopy" columns="1" rows="5"></textarea>           <span class="label label-warning" ng-show="textError">This is a required field</span>       </md-input-container>       <md-input-container class="md-block">           <label>Should be classified as:</label>           <div ui-select ng-model="newTopic.value">               <div ui-select-match placeholder="Select...">{{$select.selected.label}}</div>               <div ui-select-choices repeat="option in availableTopics">                   <div ng-bind-html="option.label | highlight: $select.search"></div>               </div>           </div>           <span class="label label-warning" ng-show="topicError">This is a required field</span>       </md-input-container>       <div class="text-right">           <div class="btn-group" role="group" aria-label="...">               <button type="button" ng-click="ok()" class="btn btn-sm btn-default" ng-disabled="disabledForm"><span class="fa fa-paper-plane-o" ng-class="{ \'fa-paper-plane-o\': !disabledForm, \'fa-spin fa-spinner\': disabledForm }"></span> Add to classifier</button>               <span class="btn btn-default btn-sm" ng-click="cancel()"><span class="fa fa-close"></span>&nbsp;&nbsp;Close (Esc)</span>           </div>       </div>   </div>')}]),angular.module("PlayTravelApp.page-flights",["PlayTravelApp.page-flights.controllers","PlayTravelApp.page-flights.services","PlayTravelApp.page-flights.tpls"]).config(["$stateProvider",function(e){e.state("admin.flights",{url:"/flights?{items_per_page}&{page}",templateUrl:"/assets/tpls/flights.html",controller:"FlightsPageCtrl",resolve:{ConversationsData:["ConversationsData","$stateParams",function(e,t){return e(t)}]}}).state("admin.flights.item",{url:"/:flight",templateUrl:"/assets/tpls/flight.html",controller:"FlightPageCtrl",resolve:{ConversationData:["ConversationData","$stateParams",function(e,t){return e(t)}]}})}]),angular.module("PlayTravelApp.page-flights.controllers",[]).controller("FlightsPageCtrl",["$scope","$state","FlightsData",function(e,t,a){e.Flights=a.Flights,e.pagination=a.pagination,e.$watch("pagination.page",function(e,a){if("undefined"!=typeof e&&e!=a){var n=t.params;e>1?n.page=e:n.page=null,t.transitionTo(t.current.name,n,{reload:t.$current})}}),e.changeNumberOfItems=function(e){var a=t.params;a.page=null,20!=e?a.items_per_page=e:a.items_per_page=null,t.transitionTo(t.current.name,a,{reload:t.$current})},console.log("Flights controller 1"),console.log(a)}]).controller("FlightPageCtrl",["$scope","$state","FlightData","ReclassifyMessage",function(e,t,a,n){e.Flight=a,console.log("Flight controller 2"),console.log(a),e.addToClassifier=function(e){n(e)}}]),angular.module("PlayTravelApp.page-flights.services",[]).factory("Flights",["$resource",function(e){return e("http://127.0.0.1:9000/flights/:flight",{flight:"@flight"},{get:{method:"GET"},post:{method:"POST",isArray:!1}})}]).factory("FlightsData",["$q","Flights",function(e,t){return function(a){var n=e.defer();return t.get({page:a.page?a.page:null,items_per_page:a.items_per_page?a.items_per_page:null},function(e){n.resolve(e)},function(){n.reject("Unable to fetch data")}),n.promise}}]).factory("FlightData",["$q","Flights",function(e,t){return function(a){var n=e.defer();return t.get({flight:a.flight},function(e){n.resolve(e)},function(){n.reject("Unable to fetch data")}),n.promise}}]),angular.module("PlayTravelApp.page-flights.tpls",["template/reclassify-message-overlay.html"]),angular.module("template/reclassify-message-overlay.html",[]).run(["$templateCache",function(e){e.put("template/reclassify-message-overlay.html",'   <div class="modal-header">       <h4 class="modal-title">Reclassify message</h4>   </div>   <div class="modal-body">       <md-input-container class="md-block">           <label>Original message</label>           <textarea ng-model="text" columns="1" rows="5" ng-disabled="true"></textarea>       </md-input-container>       <md-input-container class="md-block">           <label>Edit message</label>           <textarea ng-model="textCopy" columns="1" rows="5"></textarea>           <span class="label label-warning" ng-show="textError">This is a required field</span>       </md-input-container>       <md-input-container class="md-block">           <label>Should be classified as:</label>           <div ui-select ng-model="newTopic.value">               <div ui-select-match placeholder="Select...">{{$select.selected.label}}</div>               <div ui-select-choices repeat="option in availableTopics">                   <div ng-bind-html="option.label | highlight: $select.search"></div>               </div>           </div>           <span class="label label-warning" ng-show="topicError">This is a required field</span>       </md-input-container>       <div class="text-right">           <div class="btn-group" role="group" aria-label="...">               <button type="button" ng-click="ok()" class="btn btn-sm btn-default" ng-disabled="disabledForm"><span class="fa fa-paper-plane-o" ng-class="{ \'fa-paper-plane-o\': !disabledForm, \'fa-spin fa-spinner\': disabledForm }"></span> Add to classifier</button>               <span class="btn btn-default btn-sm" ng-click="cancel()"><span class="fa fa-close"></span>&nbsp;&nbsp;Close (Esc)</span>           </div>       </div>   </div>')}]);